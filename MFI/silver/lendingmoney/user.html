<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Take Money | User Details</title>
    <link rel="icon" type="image/x-icon" href="logo.png">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900&display=swap');
        
        body {
            background-color: #000000;
            color: #0048ff;
            display: flex;
            font-family: "Josefin Sans", serif;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }
        h1, p {
            margin: 10px 0;
            color: #ffffff;
            font-weight: 300;
        }
        .highlight {
            color: #4a4a4a;
    font-weight: 500;
        }
        .profile-header {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .profile-header img {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            margin: 15px;
            border: solid 2px #353535;
        }

        .profile-header h1 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .profile-header p {
            font-size: 20px;
            color: #a4a4a4;
        }
        .bio {
            margin-top: 20px;
            text-align: center;
        }

        .bio h2 {
            font-size: 18px;
            margin-bottom: 10px;
            color: #0048ff;
        }

        .bio p {
            font-size: 13px;
            line-height: 1.6;
            font-weight: 300;
        }

        .details {
            margin-top: 20px;
            text-align: left;
            border: 1px solid #444;
            border-radius: 8px;
            padding: 15px;
            line-height: 1.8;
            width: 80%;
        }

        .details h1 {
            font-size: 20px;
            font-weight: 600;
            color: #0048ff;
            margin-bottom: 10px;
            border-bottom: 1px solid #444;
            padding-bottom: 5px;
        }
    </style>
</head>
<body>
    <div class="logo" style="position: fixed;
    top: 10px;
    left: 30px;
    display: flex;
    align-items: inherit;
    white-space: nowrap;">
        <h1 style="font-weight: 400;">
            <a href="home.html"><img style="width: 13%;
                filter: invert(2);
                border-radius: 7px;
                box-shadow: 0px 10px 50px #ffeb00;" src="logo.png" alt=""></a>
        </h1>
    </div>
    <div class="profile-header">
        <img src="https://i.pinimg.com/736x/b9/ad/b2/b9adb2c0c4adfa52f4c68afb4a7a8cc7.jpg" alt="Profile Picture">
        <p id="userName"></p>
    </div>
    <div class="details">
        <h1 style="font-size: 20px; font-weight: 600;" class="highlight">Amount Details</h1>
        <p id="planDetails"></p>
        <p id="duration"></p>
        <p id="startDate"></p>
        <p id="daysPassed"></p>
        <p id="totalInterest"></p>
    </div>
    <div class="bio">
        <h2>Note</h2>
        <p style="color: gray;">Welcome <span id="userNameNote"></span>, this is your account profile! Here, you can find all the account details and updates. Don't forget to stay updated on payments to avoid extra charges.</p>
    </div>
    <script>
        // Extract query parameters
        const urlParams = new URLSearchParams(window.location.search);
        const name = urlParams.get('name');
        const plan = parseFloat(urlParams.get('plan')); // Plan amount
        const dailyRate = parseFloat(urlParams.get('dailyRate')); // Daily interest rate
        const startDate = urlParams.get('startDate');
        const durationMonths = parseInt(urlParams.get('durationMonths'), 10); // Taken duration in months
    
        // Calculate days passed
        const start = new Date(startDate);
        const today = new Date();
        const timeDiff = today - start;
        const daysPassed = Math.floor(timeDiff / (1000 * 60 * 60 * 24)); // Convert ms to days
    
        // Calculate total interest
        let totalInterest;
        if (isNaN(plan) || isNaN(dailyRate)) {
            totalInterest = 'NaN';
        } else {
            totalInterest = plan + daysPassed * dailyRate;
        }

        // Populate user details
        document.getElementById('userNameNote').textContent = name;
        document.getElementById('userName').textContent = `${name}`;
        document.getElementById('planDetails').innerHTML = `Amount: <span class="highlight">₹${isNaN(plan) ? 'NaN' : plan}</span>`;
        document.getElementById('startDate').innerHTML = `Start Date: <span class="highlight">${startDate}</span>`;
        document.getElementById('daysPassed').innerHTML = `Days Passed: <span class="highlight">${isNaN(daysPassed) ? 'NaN' : daysPassed} days</span>`;
        document.getElementById('totalInterest').innerHTML = `Total Amount to Return: <span class="highlight">₹${isNaN(totalInterest) ? 'NaN' : totalInterest.toFixed(2)}</span>`;
        document.getElementById('duration').innerHTML = `Taken for: <span class="highlight">${isNaN(durationMonths) ? 'NaN' : durationMonths} months</span>`;
    </script>
</body>
</html>
