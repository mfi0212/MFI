<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BS/MFI | Take Money</title>
    <link rel="icon" type="image/x-icon" href="https://i.ibb.co/gW8Py0B/BS.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oswald|Noto+Sans">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Red+Hat+Display:wght@300..900&display=swap');
    
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Red Hat Display", sans-serif;
            letter-spacing: 0.2px;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: white;
            padding: 20px;
        }

        #form {
               width: 91%;
    max-width: 400px;
    text-align: center;
    position: fixed;
        }
* {
  -webkit-tap-highlight-color: transparent;
}
body {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #0045ff;
            position: fixed;
            top: 20px;
            right: 20px;
        }

        .theme-toggle {
                position: fixed;
    cursor: pointer;
    background: #000000;
    padding: 10px 12px;
    border-radius: 10px;
    display: flex
;
    gap: 15px;
    justify-content: center;
    align-items: baseline;
    z-index: 1000;
top: 10px;
    right: 10px;
        }

        .theme-toggle a {
            color: white;
            text-decoration: none;
        }

        h1 {
            font-size: 29px;
    color: #0045ff;
    margin-bottom: 0px;
    font-weight: 900;
        }

        p.subtitle {
            color: #666;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .form-group {
            margin-bottom: 20px;
            display: none;
        }

        .form-group.active {
            display: block;
        }

        label {
            display: block;
            font-weight: bold;
            font-size: 14px;
            margin-bottom: 20px;
            color: #333;
        }

        input[type="text"],
        input[type="password"],
        input[type="number"],
        input[type="email"] {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 10px;
            font-size: 16px;
            outline: none;
            text-align: center;
        }
        input:focus{
            border: 1px solid #000000;
        }
        .radio-group label {
            display: flex
;
    align-items: center;
    gap: 15px;
    margin: 15px;
        }

        button {
            width: 100%;
            padding: 12px;
            background-color: #0045ff;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
           margin-top: 20px;
        }

        button:hover {
            background-color: #003ab6;
        }

        button#cancel-button {
            background-color: #cccccc40;
            color: #333;
            margin-top: 20px;
        }

        button#cancel-button:hover {
            background-color: #bbb;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        .info-text {
               color: #1c1c1ccf;
    font-size: 12px;
    bottom: 20px;
    line-height: 1.5;
    position: fixed;
    width: 90%;
    max-width: 400px;
    font-weight: 600;
        }

        .error-message {
            color: #ff0000;
            font-size: 12px;
            margin-top: 5px;
            display: none;
        }

        input.error {
            border-color: #ff0000;
        }
    </style>
</head>
<body>
    <div class="theme-toggle">
        <a href="https://mfi0212.github.io/MFI/chatbot"><i style="font-size: 14px;" class="fa-solid fa-robot"></i></a>
    </div>
    <form id="form" method="POST">
        <div class="form-group" data-step="1">
            <h1>BS/MFI</h1>
            <p class="subtitle">Services take money form </p>
            <label>Enter yout name <span style="color: red;">*</span></label>
            <input autofocus type="text" autocomplete="off" name="Name" required />
            <div class="error-message" id="name-error">Try to enter your name</div>
        </div>

        <div class="form-group" data-step="2">
            <h1>BS/MFI</h1>
            <p class="subtitle">Services take money form </p>
            <label>Enter your password <span style="color: red;">*</span> <strong style="color: #ff6c00;">(Don't use zeros)</strong></label>
            <input type="text" autocomplete="off" name="Password" required />
            <div class="error-message" id="password-error">Password cannot contain zeros</div>
        </div>

        <div class="form-group" data-step="3">
            <h1>BS/MFI</h1>
            <p class="subtitle">Services take money form </p>
            <label>Enter your phone number <span style="color: red;">*</span></label>
            <input type="number" autocomplete="off" name="Phone number" required />
            <div class="error-message" id="phone-error">Try to enter a valid 10-digit phone number</div>
        </div>

        <div class="form-group" data-step="4">
            <h1>BS/MFI</h1>
            <p class="subtitle">Select an option</p>
            <label>Amount you are taking from? <span style="color: red;">*</span></label>
            <div class="radio-group">
                <label><input type="radio" name="Taking in" value="Lendlink" required /> Lendlink [BsLends]</label>
                <label><input type="radio" name="Taking in" value="Golden" /> Golden [BsLends]</label>
                <label><input type="radio" name="Taking in" value="MLending" /> MLending [Myootive]</label>
                <label><input type="radio" name="Taking in" value="Mlld" /> MLLD [Myootive]</label>
            </div>
            <div class="error-message" id="taking-in-error">Try to select an option</div>
        </div>

        <div class="form-group" data-step="5">
            <h1>BS/MFI</h1>
            <p class="subtitle">Services take money form </p>
            <label>How much amount you like to take? <span style="color: red;">*</span></label>
            <input type="number"  autocomplete="off" name="Amount" required min="1" />
            <div class="error-message" id="amount-error">Try to enter a valid amount</div>
        </div>

        <div class="form-group" data-step="6">
            <h1>BS/MFI</h1>
            <p class="subtitle">Services take money form </p>
            <label>In how many days you will return the amount? <span style="color: red;">*</span></label>
            <input type="number"  autocomplete="off" name="Days" required min="1" />
            <div class="error-message" id="days-error">Try to enter a valid number of days</div>
        </div>

        <div class="form-group" data-step="7">
            <h1>BS/MFI</h1>
            <p class="subtitle">Select an option</p>
            <label>Is the amount you're taking an offer? <span style="color: red;">*</span></label>
            <div class="radio-group">
                <label><input type="radio" name="offer or not" value="yes" required /> Yes</label>
                <label><input type="radio" name="offer or not" value="no" /> No</label>
            </div>
            <div class="error-message" id="offer-error">Try to select an option</div>
            <br>
            <span style="    background-color: #000000;
    color: white;
    border-radius: 30px;
    padding: 10px 25px;
    font-size: 12px;
    font-weight: 600;
">NOTE: Wait few minutes after clicking on SUBMIT.</span>
        </div>

        <div class="button-group">
            
            <button type="button" id="next-button">Continue</button>
            <button type="submit" id="submit-button" style="display: none;">Submit</button>
        </div>

         <div class="info-text">
            By continuing, you agree to BS/MFI's terms, privacy policy, and also
            To provide the amount, we need to collect the amount first. It takes few hours to arrange the amount, So be patience during this time to get the amount.
            <button type="button" id="cancel-button">Cancel</button>
        </div>
    </form>

    <script>
        const form = document.getElementById("form");
        const steps = form.querySelectorAll('.form-group');
        const nextButton = document.getElementById("next-button");
        const submitButton = document.getElementById("submit-button");
        const cancelButton = document.getElementById("cancel-button");
        let currentStep = 1;

        function showStep(step) {
            steps.forEach(s => s.classList.remove('active'));
            form.querySelector(`[data-step="${step}"]`).classList.add('active');
            nextButton.style.display = step < steps.length ? 'block' : 'none';
            submitButton.style.display = step === steps.length ? 'block' : 'none';
        }

        showStep(currentStep);

        nextButton.addEventListener('click', () => {
            if (validateStep(currentStep)) {
                currentStep++;
                if (currentStep <= steps.length) {
                    showStep(currentStep);
                }
            }
        });

        cancelButton.addEventListener('click', () => {
            window.history.back();
        });

        function showError(input, errorId, messageText) {
            const errorElement = document.getElementById(errorId);
            if (input) input.classList.add('error');
            errorElement.textContent = messageText;
            errorElement.style.display = 'block';
        }

        function clearError(input, errorId) {
            const errorElement = document.getElementById(errorId);
            if (input) input.classList.remove('error');
            errorElement.style.display = 'none';
        }

        function validateStep(step) {
            let isValid = true;
            const currentStepElement = form.querySelector(`[data-step="${step}"]`);
            const input = currentStepElement.querySelector('input:not([type="radio"])');
            const radios = currentStepElement.querySelectorAll('input[type="radio"]');

            if (input) {
                if (input.name === 'Name' && !input.value.trim()) {
                    showError(input, 'name-error', 'Try to enter your name');
                    isValid = false;
                } else if (input.name === 'Password') {
                    if (!input.value) {
                        showError(input, 'password-error', 'Try to enter a password');
                        isValid = false;
                    } else if (input.value.includes('0')) {
                        showError(input, 'password-error', 'Password cannot contain zeros');
                        isValid = false;
                    } else {
                        clearError(input, 'password-error');
                    }
                } else if (input.name === 'Phone number') {
                    const phoneRegex = /^\d{10}$/;
                    if (!input.value || !phoneRegex.test(input.value)) {
                        showError(input, 'phone-error', 'Try to enter a valid 10-digit phone number');
                        isValid = false;
                    } else {
                        clearError(input, 'phone-error');
                    }
                } else if (input.name === 'Amount') {
                    if (!input.value || input.value <= 0) {
                        showError(input, 'amount-error', 'Try to enter a valid amount');
                        isValid = false;
                    } else {
                        clearError(input, 'amount-error');
                    }
                } else if (input.name === 'Days') {
                    if (!input.value || input.value <= 0) {
                        showError(input, 'days-error', 'Try to enter a valid number of days');
                        isValid = false;
                    } else {
                        clearError(input, 'days-error');
                    }
                }
            } else if (radios.length > 0) {
                const checked = currentStepElement.querySelector('input[type="radio"]:checked');
                const errorId = radios[0].name === 'Taking in' ? 'taking-in-error' : 'offer-error';
                if (!checked) {
                    showError(null, errorId, 'Try to select an option');
                    isValid = false;
                } else {
                    clearError(null, errorId);
                }
            }

            return isValid;
        }

        const inputs = form.querySelectorAll('input');
        inputs.forEach(input => {
            input.addEventListener('input', () => {
                if (input.name === 'Name' && input.value.trim()) {
                    clearError(input, 'name-error');
                } else if (input.name === 'Password' && !input.value.includes('0')) {
                    clearError(input, 'password-error');
                } else if (input.name === 'Phone number' && /^\d{10}$/.test(input.value)) {
                    clearError(input, 'phone-error');
                } else if (input.name === 'Amount' && input.value > 0) {
                    clearError(input, 'amount-error');
                } else if (input.name === 'Days' && input.value > 0) {
                    clearError(input, 'days-error');
                }
            });
        });

        form.querySelectorAll('input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', () => {
                if (radio.name === 'Taking in') {
                    clearError(null, 'taking-in-error');
                } else if (radio.name === 'offer or not') {
                    clearError(null, 'offer-error');
                }
            });
        });

        form.addEventListener("submit", function (e) {
            e.preventDefault();

            if (validateStep(currentStep)) {
                const formData = new FormData(this);
                const keyValuePairs = [];
                for (const pair of formData.entries()) {
                    keyValuePairs.push(pair[0] + "=" + pair[1]);
                }
                const formDataString = keyValuePairs.join("&");

                fetch(
                    "https://script.google.com/macros/s/AKfycbxIlao67g-XSHBVoSvYzofopgSa7_7_l9qstp4SxrdqMWCutnasBtQjdLn_aUWdsZvShw/exec",
                    {
                        redirect: "follow",
                        method: "POST",
                        body: formDataString,
                        headers: {
                            "Content-Type": "text/plain;charset=utf-8",
                        },
                    }
                )
                .then(response => {
                    if (response.ok) {
                        return response.text();
                    } else {
                        throw new Error("Submission failed");
                    }
                })
                .then(data => {
                    alert("Details submitted successfully!");
                    form.reset();
                    currentStep = 1;
                    showStep(currentStep);
                })
                .catch(error => {
                    alert("An error occurred while submitting the form.");
                    console.error(error);
                });
            }
        });
    </script>
    <script>
        
        document.addEventListener("DOMContentLoaded", () => {
            const customMenu = document.querySelector(".custom-menu");

            document.addEventListener("contextmenu", (event) => {
                event.preventDefault();
                if (customMenu) {
                    customMenu.style.display = "block";
                    customMenu.style.top = `${event.pageY}px`;
                    customMenu.style.left = `${event.pageX}px`;
                }
            });

            document.addEventListener("click", () => {
                if (customMenu) {
                    customMenu.style.display = "none";
                }
            });
        });
    </script>
</body>
</html>
